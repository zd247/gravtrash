{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ThanhPhan/Programming/ReactNative/trashgrav-SEPM/ReactNative/screens/HomeScreen.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { render } from \"react-dom\";\nimport BottomBar from \"../components/BottomBar\";\nimport CustomTempButton from \"../components/CustomTempButton\";\nimport ListItem from \"../components/ItemList\";\nimport { snapshotToArray } from \"../helpers/firebaseHelpers\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport colors from \"../assets/colors\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nvar HomeScreen = function (_Component) {\n  _inherits(HomeScreen, _Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    _classCallCheck(this, HomeScreen);\n\n    _this = _super.call(this);\n\n    _this.componentDidMount = function _callee() {\n      var user, currentUserData, recycleItems, recycleItemsArray;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = _this.props.currentUser;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"Users\").child(user.uid).once(\"value\"));\n\n            case 3:\n              currentUserData = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(firebase.database().ref(\"Items\").once(\"value\"));\n\n            case 6:\n              recycleItems = _context.sent;\n              recycleItemsArray = snapshotToArray(recycleItems);\n\n              _this.setState({\n                currentUser: currentUserData.val(),\n                recycleItemList: recycleItemsArray\n              });\n\n              _this.props.loadUser(currentUserData.val());\n\n              _this.props.loadRecycleItem(recycleItemsArray);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.showSearchRecycleItem = function () {\n      _this.setState({\n        isSearchRecycleItem: true\n      });\n    };\n\n    _this.hideSearchRecycleItem = function () {\n      _this.setState({\n        isSearchRecycleItem: false\n      });\n    };\n\n    _this.addRecycleItem = function (item) {\n      _this.setState(function (state, props) {\n        return {\n          recycleItemList: [].concat(_toConsumableArray(state.recycleItemList), [item])\n        };\n      }, function () {\n        console.log(_this.state.recycleItemList);\n      });\n    };\n\n    _this.chooseItem = function (selectedItem, index) {\n      var newList = _this.state.recycleItemList.filter(function (recycleItem) {\n        return recycleItem == selectedItem;\n      });\n\n      _this.props.moveItemToCart(newList[0]);\n    };\n\n    _this.renderRecycleItemList = function (item, index) {\n      return React.createElement(ListItem, {\n        item: item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 5\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          paddingRight: 20\n        },\n        onPress: function onPress() {\n          return _this.chooseItem(item, index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.addingButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, \"Add To Cart\"))));\n    };\n\n    _this.state = {\n      isSearchRecycleItem: false,\n      textInputData: \"\",\n      recycleItemList: [],\n      recycleCart: [],\n      currentUser: {}\n    };\n    return _this;\n  }\n\n  _createClass(HomeScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }\n      }, React.createElement(SafeAreaView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.props.navigation.openDrawer();\n        },\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-menu\",\n        size: 30,\n        color: \"white\",\n        style: {\n          marginLeft: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      })), React.createElement(Text, {\n        style: styles.headerTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, \"Welcome \", this.props.recycleItemList.user.first_name, \" !!\")), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.textInputContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Search Recycle Items\",\n        placeholderTextColor: colors.txtPlaceholder,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            textInputData: text\n          });\n        },\n        ref: function ref(component) {\n          _this2.textInputRef = component;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      })), React.createElement(FlatList, {\n        data: this.props.recycleItemList.recycleItemList,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return _this2.renderRecycleItemList(item, index);\n        },\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        ListEmptyComponent: React.createElement(View, {\n          style: {\n            marginTop: 50,\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }\n        }, \"No Recycle Item Currently Exist In this List\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      })), React.createElement(SafeAreaView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return HomeScreen;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    recycleItemList: state.recycleItemList,\n    currentUser: state.auth.currentUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    loadRecycleItem: function loadRecycleItem(recycleItemList) {\n      return dispatch({\n        type: \"LOAD_RECYCLE_ITEMS_FROM_SERVER\",\n        payload: recycleItemList\n      });\n    },\n    loadUser: function loadUser(user) {\n      return dispatch({\n        type: \"LOAD_USER_FROM_SERVER\",\n        payload: user\n      });\n    },\n    moveItemToCart: function moveItemToCart(item) {\n      return dispatch({\n        type: \"ADD_RECYCLE_ITEMS_TO_CART\",\n        payload: item\n      });\n    },\n    toggleIsLoadingItems: function toggleIsLoadingItems(bool) {\n      return dispatch({\n        type: \"TOGGLE_IS_LOADING_ITEMS\",\n        payload: bool\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.bgMain\n  },\n  header: {\n    height: 70,\n    borderBottomWidth: 0.5,\n    borderBottomColor: colors.borderColor,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"row\"\n  },\n  headerTitle: {\n    fontSize: 24,\n    color: \"white\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  textInputContainer: {\n    height: 50,\n    flexDirection: \"row\",\n    margin: 5\n  },\n  textInput: {\n    flex: 1,\n    backgroundColor: \"transparent\",\n    borderColor: colors.listItemBg,\n    borderBottomWidth: 5,\n    fontSize: 22,\n    fontWeight: \"200\",\n    color: \"white\"\n  },\n  checkmarkButton: {\n    backgroundColor: colors.bgSuccess\n  },\n  listEmptyComponent: {\n    marginTop: 50,\n    alignItems: \"center\"\n  },\n  listEmptyComponentText: {\n    fontWeight: \"bold\"\n  },\n  markAsReadButton: {\n    width: 100,\n    backgroundColor: colors.bgSuccess\n  },\n  markAsReadButtonText: {\n    fontWeight: \"bold\",\n    color: \"white\"\n  },\n  footer: {\n    height: 70,\n    flexDirection: \"row\",\n    borderTopWidth: 0.5,\n    borderTopColor: colors.borderColor,\n    color: \"white\"\n  },\n  listItemContainer: {\n    minHeight: 100,\n    flexDirection: \"row\",\n    backgroundColor: \"white\",\n    alignItems: \"center\"\n  },\n  imageContainer: {\n    height: 70,\n    width: 70,\n    marginLeft: 10\n  },\n  addingButton: {\n    width: 100,\n    height: 50,\n    backgroundColor: \"#a5deba\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/ThanhPhan/Programming/ReactNative/trashgrav-SEPM/ReactNative/screens/HomeScreen.js"],"names":["React","Component","render","BottomBar","CustomTempButton","ListItem","snapshotToArray","Ionicons","colors","connect","compose","firebase","HomeScreen","componentDidMount","user","props","currentUser","database","ref","child","uid","once","currentUserData","recycleItems","recycleItemsArray","setState","val","recycleItemList","loadUser","loadRecycleItem","showSearchRecycleItem","isSearchRecycleItem","hideSearchRecycleItem","addRecycleItem","item","state","console","log","chooseItem","selectedItem","index","newList","filter","recycleItem","moveItemToCart","renderRecycleItemList","paddingRight","styles","addingButton","textInputData","recycleCart","container","header","navigation","openDrawer","marginLeft","headerTitle","first_name","flex","textInputContainer","textInput","txtPlaceholder","text","component","textInputRef","toString","marginTop","alignItems","fontWeight","mapStateToProps","auth","mapDispatchToProps","dispatch","type","payload","toggleIsLoadingItems","bool","StyleSheet","create","backgroundColor","bgMain","height","borderBottomWidth","borderBottomColor","borderColor","justifyContent","flexDirection","fontSize","color","margin","listItemBg","checkmarkButton","bgSuccess","listEmptyComponent","listEmptyComponentText","markAsReadButton","width","markAsReadButtonText","footer","borderTopWidth","borderTopColor","listItemContainer","minHeight","imageContainer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  SafeAreaView,\n  TouchableOpacity,\n  TextInput,\n  FlatList,\n  Image,\n} from \"react-native\";\nimport { render } from \"react-dom\";\n\nimport BottomBar from \"../components/BottomBar\";\nimport CustomTempButton from \"../components/CustomTempButton\";\nimport ListItem from \"../components/ItemList\";\nimport { snapshotToArray } from \"../helpers/firebaseHelpers\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport colors from \"../assets/colors\";\n\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\n//import { connectActionSheet } from \"@expo/react-native-action-sheet\";\n\nimport * as firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nclass HomeScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isSearchRecycleItem: false,\n      textInputData: \"\",\n      recycleItemList: [],\n      recycleCart: [],\n      currentUser: {},\n    };\n  }\n\n  componentDidMount = async () => {\n    const user = this.props.currentUser;\n\n    //const { navigation } = this.props;\n    //const user = navigation.getParam(\"user\");\n\n    const currentUserData = await firebase\n      .database()\n      .ref(\"Users\")\n      .child(user.uid)\n      .once(\"value\");\n\n    const recycleItems = await firebase.database().ref(\"Items\").once(\"value\");\n    const recycleItemsArray = snapshotToArray(recycleItems);\n\n    this.setState({\n      currentUser: currentUserData.val(),\n      recycleItemList: recycleItemsArray,\n    });\n\n    this.props.loadUser(currentUserData.val());\n    this.props.loadRecycleItem(recycleItemsArray);\n    //console.log(currentUserData.val());\n    //console.log(this.props.user);\n  };\n\n  showSearchRecycleItem = () => {\n    this.setState({ isSearchRecycleItem: true });\n  };\n\n  hideSearchRecycleItem = () => {\n    this.setState({ isSearchRecycleItem: false });\n  };\n\n  addRecycleItem = (item) => {\n    this.setState(\n      (state, props) => ({\n        recycleItemList: [...state.recycleItemList, item],\n      }),\n      () => {\n        console.log(this.state.recycleItemList);\n      }\n    );\n  };\n\n  chooseItem = (selectedItem, index) => {\n    let newList = this.state.recycleItemList.filter(\n      (recycleItem) => recycleItem == selectedItem\n    );\n\n    //console.log(newList[0]);\n\n    this.props.moveItemToCart(newList[0]);\n    //console.log(this.state.recycleCart);\n  };\n\n  renderRecycleItemList = (item, index) => (\n    <ListItem item={item}>\n      <TouchableOpacity\n        style={{ paddingRight: 20 }}\n        onPress={() => this.chooseItem(item, index)}\n      >\n        <View style={styles.addingButton}>\n          <Text>Add To Cart</Text>\n        </View>\n      </TouchableOpacity>\n    </ListItem>\n  );\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <SafeAreaView />\n\n        <View style={styles.header}>\n          <TouchableOpacity\n            onPress={() => this.props.navigation.openDrawer()}\n            style={{}}\n          >\n            <Ionicons\n              name=\"ios-menu\"\n              size={30}\n              color=\"white\"\n              style={{ marginLeft: 10 }}\n            />\n          </TouchableOpacity>\n          <Text style={styles.headerTitle}>\n            Welcome {this.props.recycleItemList.user.first_name} !!\n          </Text>\n        </View>\n\n        <View style={{ flex: 1 }}>\n          <View style={styles.textInputContainer}>\n            <TextInput\n              style={styles.textInput}\n              placeholder=\"Search Recycle Items\"\n              placeholderTextColor={colors.txtPlaceholder}\n              onChangeText={(text) => this.setState({ textInputData: text })}\n              ref={(component) => {\n                this.textInputRef = component;\n              }}\n            />\n          </View>\n          <FlatList\n            data={this.props.recycleItemList.recycleItemList}\n            renderItem={({ item, index }) =>\n              this.renderRecycleItemList(item, index)\n            }\n            keyExtractor={(item, index) => index.toString()}\n            ListEmptyComponent={\n              <View style={{ marginTop: 50, alignItems: \"center\" }}>\n                <Text style={{ fontWeight: \"bold\" }}>\n                  No Recycle Item Currently Exist In this List\n                </Text>\n              </View>\n            }\n          />\n\n          {/*<CustomTempButton\n            position=\"right\"\n            style={{ backgroundColor: \"#CAF1DE\", borderRadius: 25 }}\n            onPress={this.showSearchRecycleItem}\n          >\n            <Text style={{ color: \"white\", fontSize: 30 }}>+</Text>\n          </CustomTempButton> */}\n        </View>\n\n        <SafeAreaView />\n      </View>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    recycleItemList: state.recycleItemList,\n    currentUser: state.auth.currentUser,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    loadRecycleItem: (recycleItemList) =>\n      dispatch({\n        type: \"LOAD_RECYCLE_ITEMS_FROM_SERVER\",\n        payload: recycleItemList,\n      }),\n    loadUser: (user) =>\n      dispatch({\n        type: \"LOAD_USER_FROM_SERVER\",\n        payload: user,\n      }),\n    moveItemToCart: (item) =>\n      dispatch({ type: \"ADD_RECYCLE_ITEMS_TO_CART\", payload: item }),\n    toggleIsLoadingItems: (bool) =>\n      dispatch({ type: \"TOGGLE_IS_LOADING_ITEMS\", payload: bool }),\n  };\n};\n\n//export default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.bgMain,\n  },\n  header: {\n    height: 70,\n    borderBottomWidth: 0.5,\n    borderBottomColor: colors.borderColor,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"row\",\n  },\n  headerTitle: {\n    fontSize: 24,\n    color: \"white\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  textInputContainer: {\n    height: 50,\n    flexDirection: \"row\",\n    margin: 5,\n  },\n  textInput: {\n    flex: 1,\n    backgroundColor: \"transparent\",\n    borderColor: colors.listItemBg,\n    borderBottomWidth: 5,\n    fontSize: 22,\n    fontWeight: \"200\",\n    color: \"white\",\n  },\n  checkmarkButton: {\n    backgroundColor: colors.bgSuccess,\n  },\n  listEmptyComponent: {\n    marginTop: 50,\n    alignItems: \"center\",\n  },\n  listEmptyComponentText: {\n    fontWeight: \"bold\",\n  },\n  markAsReadButton: {\n    width: 100,\n    backgroundColor: colors.bgSuccess,\n  },\n  markAsReadButtonText: {\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n  footer: {\n    height: 70,\n    flexDirection: \"row\",\n    borderTopWidth: 0.5,\n    borderTopColor: colors.borderColor,\n    color: \"white\",\n  },\n  listItemContainer: {\n    minHeight: 100,\n    flexDirection: \"row\",\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n  },\n  imageContainer: {\n    height: 70,\n    width: 70,\n    marginLeft: 10,\n  },\n  addingButton: {\n    width: 100,\n    height: 50,\n    backgroundColor: \"#a5deba\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}