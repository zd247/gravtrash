{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ThanhPhan/Programming/ReactNative/trashgrav-SEPM/ReactNative/screens/Admin/AdminLoginScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Carousel, { ParallaxImage } from 'react-native-snap-carousel';\nimport Feather from \"@expo/vector-icons/Feather\";\nimport colors from \"../../assets/colors\";\nimport * as Animatable from 'react-native-animatable';\nimport CustomActionButton from \"../../components/CustomTempButton\";\nimport InputField from \"../../components/InputField\";\nimport PwdField from \"../../components/PwdField\";\nimport { connect } from 'react-redux';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nvar screenWidth = Dimensions.get('screen').width;\n\nvar AdminLoginScreen = function AdminLoginScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      checkEmailInputText = _useState6[0],\n      setCheckEmailInputText = _useState6[1];\n\n  var _useState7 = useState([{\n    thumbnail: ''\n  }, {\n    thumbnail: ''\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      entries = _useState8[0],\n      setEntries = _useState8[1];\n\n  var handleEmailTextInputChange = function handleEmailTextInputChange(text) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (re.test(text.toLowerCase())) {\n      setCheckEmailInputText(true);\n      setEmail(text);\n    } else {\n      setCheckEmailInputText(false);\n      setEmail('');\n    }\n  };\n\n  var handlePasswordInputChange = function handlePasswordInputChange(text) {\n    setPassword(text);\n  };\n\n  var onContinue = function onContinue() {\n    var response, userID;\n    return _regeneratorRuntime.async(function onContinue$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(checkEmailInputText && password.length >= 6)) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n          case 4:\n            response = _context.sent;\n\n            if (response) {\n              console.log(response.user);\n              props.changeAdminMode;\n              console.log(props.currentUser.isAdmin);\n              console.log('admin logged in !');\n              userID = response.user.uid;\n              console.log(userID);\n              props.navigation.navigate('AdminHomeScreen');\n            }\n\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n            alert(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  };\n\n  var _renderItem = function _renderItem(_ref, parallaxProps) {\n    var item = _ref.item,\n        index = _ref.index;\n    return React.createElement(View, {\n      style: styles.item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }\n    }, React.createElement(ParallaxImage, _extends({\n      containerStyle: styles.imageContainer,\n      style: styles.image,\n      parallaxFactor: 0.4\n    }, parallaxProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    })), index === 0 ? React.createElement(View, {\n      style: styles.absolute,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 6\n      }\n    }, React.createElement(View, {\n      style: styles.box,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, React.createElement(InputField, {\n      title: \"Email\",\n      fontAwesomeIcon: \"envelope\",\n      color: '#009bd1',\n      placeHolder: \"Ex: admin@trash.grav\",\n      autoCapitalize: \"none\",\n      keyboardType: \"email-address\",\n      onInputChange: handleEmailTextInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 8\n      }\n    }, checkEmailInputText ? React.createElement(Animatable.View, {\n      animation: \"bounceIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 10\n      }\n    }, React.createElement(Feather, {\n      name: \"check-circle\",\n      color: \"green\",\n      size: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })) : null), React.createElement(PwdField, {\n      color: '#009bd1',\n      value: password,\n      onInputChange: handlePasswordInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }\n    }), React.createElement(TouchableOpacity, {\n      style: {\n        alignItems: 'flex-end'\n      },\n      onPress: onContinue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 8\n      }\n    }, React.createElement(View, {\n      style: styles.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, React.createElement(Feather, {\n      name: \"arrow-right\",\n      color: \"white\",\n      size: 25,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }\n    }))))) : React.createElement(View, {\n      style: styles.absolute,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }\n    }, React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        paddingHorizontal: 40\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 20,\n        color: '#009bd1'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 8\n      }\n    }, \"Want to be one of us? Call 180042069\"))));\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 3\n    }\n  }, React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 4\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 4\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, React.createElement(Animatable.View, {\n    style: styles.header,\n    animation: \"fadeInUpBig\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: styles.textHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, \"Start managing !\")), React.createElement(View, {\n    style: styles.footer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 6\n    }\n  }, React.createElement(Carousel, {\n    sliderWidth: screenWidth,\n    sliderHeight: screenWidth,\n    itemWidth: screenWidth - 60,\n    data: entries,\n    renderItem: _renderItem,\n    hasParallaxImages: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  })))), React.createElement(SafeAreaView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    recycleItemList: state.recycleItemList,\n    currentUser: state.auth.currentUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    signIn: function signIn(user) {\n      return dispatch({\n        type: 'LOAD_USER_FROM_SERVER',\n        payload: user\n      });\n    },\n    signOut: function signOut() {\n      return dispatch({\n        type: 'SIGN_OUT'\n      });\n    },\n    changeAdminMode: function changeAdminMode() {\n      return dispatch({\n        type: 'CHANGE_TO_ADMIN_MODE'\n      });\n    },\n    changeBackFromAdminMode: function changeBackFromAdminMode() {\n      return dispatch({\n        type: 'CHANGE_BACK_FROM_ADMIN_MODE'\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminLoginScreen);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.bgAdminLogin,\n    paddingTop: Platform.OS == 'android' ? 50 : 0\n  },\n  header: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    paddingHorizontal: 30,\n    paddingVertical: 50\n  },\n  footer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  textHeader: {\n    color: 'white',\n    fontSize: 30,\n    fontWeight: 'bold'\n  },\n  item: {\n    width: screenWidth - 60,\n    height: screenWidth - 60\n  },\n  imageContainer: {\n    flex: 1,\n    marginBottom: Platform.select({\n      ios: 0,\n      android: 1\n    }),\n    backgroundColor: 'white',\n    borderRadius: 8\n  },\n  image: _objectSpread({}, StyleSheet.absoluteFillObject, {\n    resizeMode: 'cover'\n  }),\n  absolute: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  },\n  box: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingHorizontal: 18\n  },\n  button: {\n    width: 100,\n    backgroundColor: '#4399AD',\n    marginTop: 15,\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingVertical: 10\n  }\n});","map":{"version":3,"sources":["/Users/ThanhPhan/Programming/ReactNative/trashgrav-SEPM/ReactNative/screens/Admin/AdminLoginScreen.js"],"names":["React","useState","Carousel","ParallaxImage","Feather","colors","Animatable","CustomActionButton","InputField","PwdField","connect","firebase","screenWidth","Dimensions","get","width","AdminLoginScreen","email","setEmail","password","setPassword","checkEmailInputText","setCheckEmailInputText","thumbnail","entries","setEntries","handleEmailTextInputChange","text","re","test","toLowerCase","handlePasswordInputChange","onContinue","length","auth","signInWithEmailAndPassword","response","console","log","user","props","changeAdminMode","currentUser","isAdmin","userID","uid","navigation","navigate","alert","_renderItem","parallaxProps","item","index","styles","imageContainer","image","absolute","box","alignItems","button","flex","justifyContent","paddingHorizontal","fontSize","color","container","header","textHeader","footer","mapStateToProps","state","recycleItemList","mapDispatchToProps","dispatch","signIn","type","payload","signOut","changeBackFromAdminMode","StyleSheet","create","backgroundColor","bgAdminLogin","paddingTop","Platform","OS","paddingVertical","fontWeight","height","marginBottom","select","ios","android","borderRadius","absoluteFillObject","resizeMode","position","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport {\n\tView,\n\tText,\n\tStyleSheet,\n\tScrollView,\n\tSafeAreaView,\n\tDimensions,\n\tTouchableOpacity,\n} from 'react-native'\nimport Carousel, { ParallaxImage } from 'react-native-snap-carousel'\nimport Feather from 'react-native-vector-icons/Feather'\n\nimport colors from '../../assets/colors'\nimport * as Animatable from 'react-native-animatable'\nimport CustomActionButton from '../../components/CustomTempButton'\nimport InputField from '../../components/InputField'\nimport PwdField from '../../components/PwdField'\n\nimport { connect } from 'react-redux'\n\nimport * as firebase from 'firebase/app'\nimport 'firebase/auth'\n\nconst screenWidth = Dimensions.get('screen').width\n\nconst AdminLoginScreen = () => {\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\tconst [checkEmailInputText, setCheckEmailInputText] = useState(false)\n\tconst [entries, setEntries] = useState([\n\t\t{\n\t\t\tthumbnail: '',\n\t\t},\n\t\t{\n\t\t\tthumbnail: '',\n\t\t},\n\t])\n\n\tconst handleEmailTextInputChange = text => {\n\t\tconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\tif (re.test(text.toLowerCase())) {\n\t\t\tsetCheckEmailInputText(true)\n\t\t\tsetEmail(text)\n\t\t} else {\n\t\t\tsetCheckEmailInputText(false)\n\t\t\tsetEmail('')\n\t\t}\n\t}\n\n\tconst handlePasswordInputChange = text => {\n\t\tsetPassword(text)\n\t}\n\n\tconst onContinue = async () => {\n\t\tif (checkEmailInputText && password.length >= 6) {\n\t\t\ttry {\n\t\t\t\tconst response = await firebase\n\t\t\t\t\t.auth()\n\t\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\tif (response) {\n\t\t\t\t\tconsole.log(response.user)\n\t\t\t\t\tprops.changeAdminMode\n\t\t\t\t\tconsole.log(props.currentUser.isAdmin)\n\t\t\t\t\tconsole.log('admin logged in !')\n\t\t\t\t\tconst userID = response.user.uid\n\t\t\t\t\tconsole.log(userID)\n\n\t\t\t\t\t// this.props.signIn(response.user)\n\t\t\t\t\tprops.navigation.navigate('AdminHomeScreen')\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e)\n\t\t\t\talert(e)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst _renderItem = ({ item, index }, parallaxProps) => {\n\t\treturn (\n\t\t\t<View style={styles.item}>\n\t\t\t\t<ParallaxImage\n\t\t\t\t\tcontainerStyle={styles.imageContainer}\n\t\t\t\t\tstyle={styles.image}\n\t\t\t\t\tparallaxFactor={0.4}\n\t\t\t\t\t{...parallaxProps}\n\t\t\t\t/>\n\t\t\t\t{index === 0 ? (\n\t\t\t\t\t<View style={styles.absolute}>\n\t\t\t\t\t\t<View style={styles.box}>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\ttitle='Email'\n\t\t\t\t\t\t\t\tfontAwesomeIcon='envelope'\n\t\t\t\t\t\t\t\tcolor={'#009bd1'}\n\t\t\t\t\t\t\t\tplaceHolder='Ex: admin@trash.grav'\n\t\t\t\t\t\t\t\tautoCapitalize='none'\n\t\t\t\t\t\t\t\tkeyboardType='email-address'\n\t\t\t\t\t\t\t\tonInputChange={handleEmailTextInputChange}>\n\t\t\t\t\t\t\t\t{checkEmailInputText ? (\n\t\t\t\t\t\t\t\t\t<Animatable.View animation='bounceIn'>\n\t\t\t\t\t\t\t\t\t\t<Feather name='check-circle' color='green' size={20} />\n\t\t\t\t\t\t\t\t\t</Animatable.View>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</InputField>\n\n\t\t\t\t\t\t\t<PwdField\n\t\t\t\t\t\t\t\tcolor={'#009bd1'}\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\tonInputChange={handlePasswordInputChange}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\t\tstyle={{ alignItems: 'flex-end' }}\n\t\t\t\t\t\t\t\tonPress={onContinue}>\n\t\t\t\t\t\t\t\t<View style={styles.button}>\n\t\t\t\t\t\t\t\t\t<Feather name='arrow-right' color='white' size={25} />\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t) : (\n\t\t\t\t\t<View style={styles.absolute}>\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\tpaddingHorizontal: 40,\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Text style={{ fontSize: 20, color: '#009bd1' }}>\n\t\t\t\t\t\t\t\tWant to be one of us? Call 180042069\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t)}\n\t\t\t</View>\n\t\t)\n\t}\n\n\treturn (\n\t\t<View style={styles.container}>\n\t\t\t<SafeAreaView />\n\t\t\t<View style={{ flex: 1 }}>\n\t\t\t\t<ScrollView style={{ flex: 1 }}>\n\t\t\t\t\t{/* -------header------- */}\n\t\t\t\t\t<Animatable.View style={styles.header} animation='fadeInUpBig'>\n\t\t\t\t\t\t<Text style={styles.textHeader}>Start managing !</Text>\n\t\t\t\t\t</Animatable.View>\n\t\t\t\t\t<View style={styles.footer}>\n\t\t\t\t\t\t<Carousel\n\t\t\t\t\t\t\tsliderWidth={screenWidth}\n\t\t\t\t\t\t\tsliderHeight={screenWidth}\n\t\t\t\t\t\t\titemWidth={screenWidth - 60}\n\t\t\t\t\t\t\tdata={entries}\n\t\t\t\t\t\t\trenderItem={_renderItem}\n\t\t\t\t\t\t\thasParallaxImages={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t</ScrollView>\n\t\t\t</View>\n\t\t\t<SafeAreaView />\n\t\t</View>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\trecycleItemList: state.recycleItemList,\n\t\tcurrentUser: state.auth.currentUser,\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tsignIn: user => dispatch({ type: 'LOAD_USER_FROM_SERVER', payload: user }),\n\t\tsignOut: () => dispatch({ type: 'SIGN_OUT' }),\n\t\tchangeAdminMode: () => dispatch({ type: 'CHANGE_TO_ADMIN_MODE' }),\n\t\tchangeBackFromAdminMode: () =>\n\t\t\tdispatch({ type: 'CHANGE_BACK_FROM_ADMIN_MODE' }),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminLoginScreen)\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t\tbackgroundColor: colors.bgAdminLogin,\n\t\tpaddingTop: Platform.OS == 'android' ? 50 : 0,\n\t},\n\theader: {\n\t\tflex: 1,\n\t\tjustifyContent: 'flex-end',\n\t\tpaddingHorizontal: 30,\n\t\tpaddingVertical: 50,\n\t},\n\tfooter: {\n\t\tflex: 1,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\ttextHeader: {\n\t\tcolor: 'white',\n\t\tfontSize: 30,\n\t\tfontWeight: 'bold',\n\t},\n\titem: {\n\t\twidth: screenWidth - 60,\n\t\theight: screenWidth - 60,\n\t},\n\timageContainer: {\n\t\tflex: 1,\n\t\tmarginBottom: Platform.select({ ios: 0, android: 1 }), // Prevent a random Android rendering issue\n\t\tbackgroundColor: 'white',\n\t\tborderRadius: 8,\n\t},\n\timage: {\n\t\t...StyleSheet.absoluteFillObject,\n\t\tresizeMode: 'cover',\n\t},\n\tabsolute: {\n\t\tposition: 'absolute',\n\t\twidth: '100%',\n\t\theight: '100%',\n\t},\n\tbox: {\n\t\tflex: 1,\n\t\tjustifyContent: 'center',\n\t\tpaddingHorizontal: 18,\n\t},\n\tbutton: {\n\t\twidth: 100,\n\t\tbackgroundColor: '#4399AD',\n\t\tmarginTop: 15,\n\t\tborderRadius: 50,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tpaddingVertical: 10,\n\t},\n})\n"]},"metadata":{},"sourceType":"module"}